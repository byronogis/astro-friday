---
import config from 'virtual:astro-friday-config'
import DefaultLayout from '../../layouts/Default.astro'
import { getPostList } from '../../utils/content/post'
import { getPath } from '../../utils/path'


const seriesInfos = await getPostList({
  groupBy: 'series',
})
---

<DefaultLayout
  seo={{
    noindex: true,
    nofollow: true,
  }}
>
  <ul class="live-area flex flex-col gap-4">
    {seriesInfos.entries().map(([series, entryList]) => (
      <li class="">
        <a
          href={getPath('series', [series])}
          class="text-xl py-2 pr-4 hoverable-text relative"
        >
          {
            config.viewTransition.enable
              ? <span transition:name={`series:${series}`}>{series}</span>
              : <span>{series}</span>
          }
          <span class="text-sm font-italic right-0 top-0 absolute z-1">{entryList.length}</span>
        </a>
      </li>
    ))}
  </ul>
</DefaultLayout>
