---
import config from 'virtual:astro-friday-config'
import DefaultLayout from '../../layouts/Default.astro'
import { getPostList } from '../../utils/content/post'
import { getPath } from '../../utils/path'


const tagInfos = await getPostList({
  groupBy: 'tag',
})
---

<DefaultLayout
  seo={{
    noindex: true,
    nofollow: true,
  }}
>
  <ul class="live-area flex flex-row flex-wrap gap-4">
    {tagInfos.entries().map(([tag, entryList]) => (
      <li class="">
        <a
          href={getPath('tag', [tag])}
          class="text-xl py-2 pr-4 hoverable-text relative"
        >
          {
            config.viewTransition.enable
              ? <span transition:name={`tag:${tag}`}>{tag}</span>
              : <span>{tag}</span>
          }
          <span class="text-sm font-italic right-0 top-0 absolute z-1">{entryList.length}</span>
        </a>
      </li>
    ))}
  </ul>
</DefaultLayout>
